@using PagedList;

@using PagedList.Mvc;


@model IPagedList<NCMS.Models.Schedule>

@{
    ViewBag.Title = "Doctor's Schedule";
}

<div id="app">
    <div class="sidebar app-aside" id="sidebar">
        <div class="sidebar-container perfect-scrollbar">

            <nav>

                <!-- start: MAIN NAVIGATION MENU -->
                <div class="navbar-title">
                    <span>Main Navigation</span>
                </div>
                <ul class="main-navigation-menu">

                    @if (User.Identity.IsAuthenticated)
                    {
                        if (User.IsInRole("Admin"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Users">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-users" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Registered Users </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Patients">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-bed" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Patients </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Prescriptions">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-medkit" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Drug Prescription </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>

                                <a href="~/Schedules">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Doctor's Schedule </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>

                                <a href="~/Timesheet">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Employees Timesheet </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        }

                        else if (User.IsInRole("Front Desk"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Patients">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-bed" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Patients </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>

                                <a href="~/Timesheet">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Employees Timesheet </span>
                                        </div>
                                    </div>
                                </a>
                            </li>


                        }

                        else if (User.IsInRole("Nurse"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Patients">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-bed" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Patients </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/RequestDrugs">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-bed" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Order Drugs </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Prescriptions">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-medkit" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Drug Prescription </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>

                                <a href="~/Schedules">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Doctor's Schedule </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>

                                <a href="~/Timesheet">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Employees Timesheet </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        }


                        else if (User.IsInRole("Doctor"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/History">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-bed" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Patients History </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Prescriptions">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-medkit" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Drug Prescription </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>

                                <a href="~/Schedules">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Doctor's Schedule </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>

                                <a href="~/Timesheet">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Employees Timesheet </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        }

                        else if (User.IsInRole("Pharmacist"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Prescriptions">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-medkit" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Drug Prescription </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>

                                <a href="~/Schedules">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Doctor's Schedule </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>

                                <a href="~/Timesheet">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Employees Timesheet </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        }

                        else if (User.IsInRole("Patient"))
                        {
                            <li>
                                <a href="~/Dashboard">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-university"></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Dashboard </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="~/Appointments">

                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-hospital-o" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Appointments </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="~/Prescriptions">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-medkit" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Drug Prescription </span>
                                        </div>
                                    </div>
                                </a>
                            </li>

                            <li>

                                <a href="~/Schedules">
                                    <div class="item-content">
                                        <div class="item-media">
                                            <i class="fa fa-calendar" icon></i>
                                        </div>
                                        <div class="item-inner">
                                            <span class="title"> Doctor's Schedule </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        }
                        else
                        {
                            <h2>Error 403:</h2>
                            <p>Access Denied!</p>

                        }
                    }


                </ul>
                <!-- end: CORE FEATURES -->

            </nav>
        </div>
    </div>
    <div class="app-content">
        <!--start-wrap-->
        <header class="navbar navbar-default navbar-static-top">
            <!-- start: NAVBAR HEADER -->
            <div class="navbar-header">
                <a href="#" class="sidebar-mobile-toggler pull-left hidden-md hidden-lg" class="btn btn-navbar sidebar-toggle" data-toggle-class="app-slide-off" data-toggle-target="#app" data-toggle-click-outside="#sidebar">
                    <i class="ti-align-justify"></i>
                </a>
                <a class="navbar-brand" href="#">
                    <h2 style="padding-top:2% ">  <img src="~/Content/images/logo.png" /></h2>
                </a>
                <a href="#" class="sidebar-toggler pull-right visible-md visible-lg" data-toggle-class="app-sidebar-closed" data-toggle-target="#app">
                    <i class="ti-align-justify"></i>
                </a>
                <a class="pull-right menu-toggler visible-xs-block" id="menu-toggler" data-toggle="collapse" href=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="ti-view-grid"></i>
                </a>
            </div>
            <!-- end: NAVBAR HEADER -->
            <!-- start: NAVBAR COLLAPSE -->
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-right">
                    <!-- start: MESSAGES DROPDOWN -->
                    <li style="padding-top:2% ">
                        <h2>Novo Clinic Management System</h2>
                    </li>
                    <li class="dropdown current-user">
                        <a href class="dropdown-toggle" data-toggle="dropdown">
                            <img src="~/Content/assets/images/default-user.png" alt="user avatar"> <span class="username">

                                @using Microsoft.AspNet.Identity
                                @if (Request.IsAuthenticated)
                                {
                                    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                                    {
                                        @Html.AntiForgeryToken()

                                        <ul class="nav navbar-nav navbar-right">
                                            <li><a href="javascript:document.getElementById('logoutForm').submit()"> <i class="fa fa-sign-out" style="font-size:20px;"></i>Log Out</a></li>
                                        </ul>
                                    }
                                }



                            </span>
                        </a>

                    </li>

                    <!-- end: USER OPTIONS DROPDOWN -->
                </ul>
                <!-- end: USER OPTIONS DROPDOWN -->
                </ul>
                <!-- start: MENU TOGGLER FOR MOBILE DEVICES -->
                <div class="close-handle visible-xs-block menu-toggler" data-toggle="collapse" href=".navbar-collapse">
                    <div class="arrow-left"></div>
                    <div class="arrow-right"></div>
                </div>
                <!-- end: MENU TOGGLER FOR MOBILE DEVICES -->
            </div>


            <!-- end: NAVBAR COLLAPSE -->
        </header>
        <div class="main-content">
            <div class="wrap-content container" id="container">
                <!-- start: PAGE TITLE -->
                <section id="page-title">
                    <div class="row">
                        <div class="col-sm-8">
                            <h1 class="mainTitle">Doctors Schedule</h1>
                        </div>
                        <ol class="breadcrumb">
                            <li>
                                @Html.ActionLink("WELCOME  " + User.Identity.GetUserName() + " !", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
                            </li>
                        </ol>
                    </div>
                </section>

                @if (User.Identity.IsAuthenticated)
                {
                    if (User.IsInRole("Admin") || User.IsInRole("Nurse") || User.IsInRole("Patient"))
                    {

                        <table class="table table-bordered">
                            <div class="col-md-6">

                            </div>

                            <div class="col-md-3"></div>
                            <div class="col-md-3">

                                @using (Html.BeginForm("Index", "Schedules", FormMethod.Get))
                                {
                                    //the following are search options
                                    <div class="form-group">
                                        @Html.TextBox("search")
                                        <div class="col-md-4">
                                            <br />
                                            <input type="submit" name="submit" value="Search" class="btn btn-primary" />
                                            <br /><br />
                                        </div>
                                    </div><br />
                                }
                            </div>
                            <thead class="table-heading">
                                <tr>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().Id)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().Email)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().FirstName)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().LastName)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().MySchedule)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().Description)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().ScheduleDate)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().ScheduleTime)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().DateCreated)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                Actions
                                            </font>
                                        </b>
                                    </td>
                                </tr>
                            </thead>
                            @if (Model.Count() == 0)
                            {
                                <tr>
                                    <td colspan="12"> Records not found </td>
                                </tr>
                            }
                            else
                            {

                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Id)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Email)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.FirstName)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.LastName)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.MySchedule)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Description)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ScheduleDate)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ScheduleTime)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.DateCreated)
                                        </td>
                                        <td>


                                            <a href="~/Schedules/Details/@item.ScheduleId"><i class="fa fa-eye" style="font-size:28px;color:dodgerblue"></i></a>
                                        </td>
                                    </tr>
                                }
                            }

                        </table>
                        @Html.PagedListPager(Model,pageNumber => Url.Action("Index",new{
                                               pageNumber
                                               }))
                    }
                    else if (User.IsInRole("Doctor"))
                    {



                        <table class="table table-bordered">
                            <div class="col-md-6">
                                <button type="submit" class='btn btn-primary'><i class="fa fa-plus fa-lg"><a href="~/Schedules/Create"><font color="white"> Add Schedule</font></a></i></button>
                            </div>

                            <div class="col-md-3"></div>
                            <div class="col-md-3">

                                @using (Html.BeginForm("Index", "Schedules", FormMethod.Get))
                                {
                                    //the following are search options
                                    <div class="form-group">
                                        @Html.TextBox("search")
                                        <div class="col-md-4">
                                            <br />
                                            <input type="submit" name="submit" value="Search" class="btn btn-primary" />
                                            <br /><br />
                                        </div>
                                    </div><br />
                                }
                            </div>
                            <thead class="table-heading">
                                <tr>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().Id)
                                            </font>
                                        </b>
                                    </td>

                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().MySchedule)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().Description)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().ScheduleDate)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().ScheduleTime)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                @Html.DisplayNameFor(model => model.First().DateCreated)
                                            </font>
                                        </b>
                                    </td>
                                    <td>
                                        <b>
                                            <font size="4">
                                                Actions
                                            </font>
                                        </b>
                                    </td>
                                </tr>
                            </thead>
                            @if (Model.Count() == 0)
                            {
                                <tr>
                                    <td colspan="12"> Records not found </td>
                                </tr>
                            }
                            else
                            {

                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Id)
                                        </td>

                                        <td>
                                            @Html.DisplayFor(modelItem => item.MySchedule)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Description)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ScheduleDate)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ScheduleTime)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.DateCreated)
                                        </td>
                                        <td>

                                            <a href="~/Schedules/Edit/@item.Id"><i class="fa fa-edit" style="font-size:28px;color:dodgerblue"></i></a> &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;

                                            <a href="~/Schedules/Details/@item.Id"><i class="fa fa-eye" style="font-size:28px;color:dodgerblue"></i></a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
                                            <a href="~/Schedules/Delete/@item.Id"><i class="fa fa-trash" style="font-size:28px;color:dodgerblue">
                                        </td>
                                    </tr>
                                }
                            }

                        </table>
                        @Html.PagedListPager(Model,pageNumber => Url.Action("Index",new{
                                        pageNumber
                                        }))
                    }
                    else
                    {
                        <h2>Error 403:</h2>
                        <p>Access Denied!</p>

                    }
                }
                else
                {
                    <h2>Access Denied!</h2>


                }
            </div><div></div>
        </div><div></div>
    </div><div></div>
